<script>
$("#valor_venda").maskMoney({symbol:"R$",decimal:".",thousands:""});

$(document).ready(function(){
$('#quantidade').on('keyup',function(){
     var total = $('#quantidade').val() * $('#valor_venda').val();
      $('#total_geral').val(total.toFixed(2));
});
});
</script>

<script>
//se não informar o produto
$(document).ready(function(){

  $("#valor_venda").blur(function() {
    if( $('#valor_venda').val().length === 0 ) {
        swal("Atenção", "Informe o valor de venda!", "warning");
      }
  });

  $("#quantidade").blur(function() {
    if( $('#quantidade').val().length === 0 ) {
        swal("Atenção", "Informe a quantidade!", "warning");
      }
  });
});
</script>


<!-- Modal -->
<div data-toggle="modal" data-target="myModal" >
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title"><%= @produto.name %></h4>
      </div>
      <div class="modal-body">

    <%= form_for @item, :html => { :class => "form-horizontal" } do |f| %>

      <%= f.hidden_field :id_do_item, :value=> 'SIM' %>

    <%= f.hidden_field :id, :value=> @item.id %>

  	<div class="col-lg-3">
      Valor venda R$
  	<%= f.text_field :sale_value, class: "form-control", placeholder: "Valor venda R$", id: 'valor_venda' %>
  	</div>

      <div class="col-lg-3">
        Quantidade:
  	<%= f.text_field :qnt, class: "form-control", placeholder: "Quantidade", id: 'quantidade' %>
  	</div>

  	<div class="col-lg-4">
      Total R$
  	<%= f.text_field :total_value_sale, class: "form-control", placeholder: "Total venda R$", id: 'total_geral', readonly: true %>
  	</div>

<div class="form-group">
    <div class="col-lg-offset-8 col-lg-10">
      <br>
      <%= f.submit 'Salvar', :class => 'btn btn-primary' %>
      <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
    </div>
  </div>
<% end %>


</div>
</div>
</div>
</div>
